# Uploading to TargetP

Unfortunately the first hald of this actions is currently a manual step.

Using either [http://www.cbs.dtu.dk/services/TargetP/](http://www.cbs.dtu.dk/services/TargetP/) or the mirror
[https://services.healthtech.dtu.dk/service.php?TargetP](https://services.healthtech.dtu.dk/service.php?TargetP)

you can upload the files in generated by [fetch_fasta_data_from_uniprot](../fetch_fasta_data_from_uniprot/data/out/fasta) one by one. The server should take about 30 seconds or so before returning a result.

## step 1

![Step 1](./howto/step1a.png?raw=true)

or using the mirror:

![Step 1](./howto/step1b.png?raw=true)

you can then download the JSON. To see the results of when it was last run (13/6/2020) have a look in [/data/out/json](./data/out/json)

![Step 2](./howto/step2.png?raw=true)

## cleaning up the Data

once you have the json in the folder `/data/out/json` you can execute the script

```
$ ./run.sh
```

this will extract the names of all genes that are predicted as being a "Mitochondrial transfer peptide". The output is then written to a file

`/data/out/mitochondrial_transfer_peptides.txt`

```txt
Q5T8U3
SUCB1
C9JYX1
E9PRQ6
C9J6X0
PTCD3
E9PNQ5
...
```

## note

the returned values from `targetP` look like: `tr_K7ELF1_K7ELF1_HUMAN`
but we are only interested in the `K7ELF1` part.
In general it seems like the long versions have the form

```
<sp|tr>_<UniProtKB>_<GENE>_<HUMAN|Hm>(_<number>)
```
